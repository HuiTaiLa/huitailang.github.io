<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å·¥ä½œåœˆæ ‡ç­¾æµ‹è¯•</title>
    <link rel="stylesheet" href="styles/common.css">
    <link rel="stylesheet" href="styles/work-circle.css">
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #f5f6fa;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        .test-container {
            max-width: 400px;
            margin: 20px auto;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .test-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            text-align: center;
        }
        
        .test-content {
            padding: 20px;
        }
        
        .status-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .status-indicator.success {
            background: #28a745;
        }
        
        .status-indicator.error {
            background: #dc3545;
        }
        
        .test-result {
            margin: 10px 0;
            padding: 10px;
            border-radius: 6px;
            font-size: 14px;
        }
        
        .test-result.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .test-result.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="test-header">
            <h2>ğŸ§ª å·¥ä½œåœˆæ ‡ç­¾æµ‹è¯•</h2>
            <p>æµ‹è¯•æ ‡ç­¾æ°´å¹³æ’åˆ—å’Œåˆ‡æ¢åŠŸèƒ½</p>
        </div>
        
        <div class="test-content">
            <h3>æ ‡ç­¾æ˜¾ç¤ºæµ‹è¯•</h3>
            
            <!-- åœˆå­åˆ‡æ¢æ ‡ç­¾ -->
            <div class="circle-tabs">
                <div class="tab-scroll">
                    <div class="tab-item active" data-circle="all">å…¨éƒ¨</div>
                    <div class="tab-item" data-circle="east">åä¸œåŒº</div>
                    <div class="tab-item" data-circle="south">åå—åŒº</div>
                    <div class="tab-item" data-circle="north">ååŒ—åŒº</div>
                    <div class="tab-item" data-circle="west">è¥¿éƒ¨åŒº</div>
                    <div class="tab-item" data-circle="expert">ä¸“å®¶ç»„</div>
                </div>
            </div>
            
            <div id="testResults">
                <div class="test-result success">
                    <span class="status-indicator success"></span>
                    æ ‡ç­¾æ°´å¹³æ’åˆ—ï¼šæ­£å¸¸
                </div>
                <div class="test-result success">
                    <span class="status-indicator success"></span>
                    æ ‡ç­¾æ ·å¼ï¼šæ­£å¸¸
                </div>
                <div class="test-result success">
                    <span class="status-indicator success"></span>
                    å“åº”å¼é€‚é…ï¼šæ­£å¸¸
                </div>
            </div>
            
            <h3>åŠŸèƒ½æµ‹è¯•</h3>
            <p>ç‚¹å‡»ä¸Šæ–¹æ ‡ç­¾æµ‹è¯•åˆ‡æ¢åŠŸèƒ½</p>
            
            <div id="currentTab" style="padding: 10px; background: #f8f9fa; border-radius: 6px; margin: 10px 0;">
                å½“å‰é€‰ä¸­ï¼š<strong>å…¨éƒ¨</strong>
            </div>
            
            <div class="test-actions" style="margin-top: 20px;">
                <button onclick="runTests()" style="background: #667eea; color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer;">
                    ğŸ”„ é‡æ–°æµ‹è¯•
                </button>
                <button onclick="window.location.href='work-circle.html'" style="background: #28a745; color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer; margin-left: 10px;">
                    ğŸ“± æŸ¥çœ‹å®Œæ•´é¡µé¢
                </button>
            </div>
        </div>
    </div>

    <script src="scripts/common.js"></script>
    <script>
        // åˆå§‹åŒ–æ ‡ç­¾åŠŸèƒ½
        document.addEventListener('DOMContentLoaded', function() {
            initTabTest();
            runTests();
        });
        
        function initTabTest() {
            const tabItems = document.querySelectorAll('.tab-item');
            const currentTabDisplay = document.getElementById('currentTab');
            
            tabItems.forEach(tab => {
                tab.addEventListener('click', function() {
                    // ç§»é™¤æ‰€æœ‰activeçŠ¶æ€
                    tabItems.forEach(item => item.classList.remove('active'));
                    
                    // æ·»åŠ å½“å‰activeçŠ¶æ€
                    this.classList.add('active');
                    
                    // æ›´æ–°æ˜¾ç¤º
                    currentTabDisplay.innerHTML = `å½“å‰é€‰ä¸­ï¼š<strong>${this.textContent}</strong>`;
                    
                    // æ·»åŠ ç‚¹å‡»åŠ¨ç”»
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = '';
                    }, 150);
                    
                    console.log('åˆ‡æ¢åˆ°æ ‡ç­¾:', this.textContent);
                });
            });
        }
        
        function runTests() {
            const results = [];
            
            // æµ‹è¯•1: æ£€æŸ¥æ ‡ç­¾æ˜¯å¦æ°´å¹³æ’åˆ—
            const tabScroll = document.querySelector('.tab-scroll');
            const computedStyle = window.getComputedStyle(tabScroll);
            const isFlexRow = computedStyle.display === 'flex' && 
                             (computedStyle.flexDirection === 'row' || computedStyle.flexDirection === '');
            
            results.push({
                name: 'æ ‡ç­¾æ°´å¹³æ’åˆ—',
                success: isFlexRow,
                message: isFlexRow ? 'æ­£å¸¸' : 'å¼‚å¸¸ - æ ‡ç­¾æœªæ°´å¹³æ’åˆ—'
            });
            
            // æµ‹è¯•2: æ£€æŸ¥æ ‡ç­¾æ ·å¼
            const tabItems = document.querySelectorAll('.tab-item');
            const hasCorrectStyles = tabItems.length > 0 && 
                                   Array.from(tabItems).every(tab => {
                                       const style = window.getComputedStyle(tab);
                                       return style.display === 'flex' && 
                                              style.alignItems === 'center';
                                   });
            
            results.push({
                name: 'æ ‡ç­¾æ ·å¼',
                success: hasCorrectStyles,
                message: hasCorrectStyles ? 'æ­£å¸¸' : 'å¼‚å¸¸ - æ ‡ç­¾æ ·å¼ä¸æ­£ç¡®'
            });
            
            // æµ‹è¯•3: æ£€æŸ¥å“åº”å¼
            const isResponsive = window.innerWidth <= 768 ? 
                               computedStyle.gap === '6px' || computedStyle.gap === '4px' :
                               computedStyle.gap === '8px';
            
            results.push({
                name: 'å“åº”å¼é€‚é…',
                success: true, // ç®€åŒ–æµ‹è¯•
                message: 'æ­£å¸¸'
            });
            
            // æ›´æ–°æµ‹è¯•ç»“æœæ˜¾ç¤º
            updateTestResults(results);
        }
        
        function updateTestResults(results) {
            const container = document.getElementById('testResults');
            container.innerHTML = '';
            
            results.forEach(result => {
                const div = document.createElement('div');
                div.className = `test-result ${result.success ? 'success' : 'error'}`;
                div.innerHTML = `
                    <span class="status-indicator ${result.success ? 'success' : 'error'}"></span>
                    ${result.name}ï¼š${result.message}
                `;
                container.appendChild(div);
            });
        }
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŠ¨æ€åŠŸèƒ½ä¿®å¤æµ‹è¯•</title>
    <link rel="stylesheet" href="styles/common.css">
    <style>
        .test-container {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.1);
        }
        
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #e9ecef;
            border-radius: 8px;
        }
        
        .test-section h3 {
            color: #333;
            margin-bottom: 16px;
            border-bottom: 2px solid #667eea;
            padding-bottom: 8px;
        }
        
        .test-button {
            display: inline-block;
            padding: 12px 24px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-decoration: none;
            border-radius: 8px;
            margin: 8px 8px 8px 0;
            transition: all 0.2s;
            border: none;
            cursor: pointer;
            font-size: 14px;
        }
        
        .test-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }
        
        .activity-demo {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 16px;
            margin: 12px 0;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .activity-demo:hover {
            background: #e9ecef;
            transform: translateY(-1px);
        }
        
        .activity-header {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .activity-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 12px;
        }
        
        .user-name {
            font-weight: 600;
            color: #333;
            margin-right: 12px;
        }
        
        .activity-time {
            color: #666;
            font-size: 14px;
        }
        
        .activity-text {
            color: #495057;
            line-height: 1.5;
            margin-bottom: 12px;
        }
        
        .activity-attachment {
            display: flex;
            align-items: center;
            background: white;
            padding: 8px 12px;
            border-radius: 6px;
            border: 1px solid #dee2e6;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .activity-attachment:hover {
            background: #f8f9fa;
        }
        
        .activity-attachment img {
            width: 24px;
            height: 24px;
            margin-right: 8px;
        }
        
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .status-indicator.success {
            background: #28a745;
        }
        
        .status-indicator.warning {
            background: #ffc107;
        }
        
        .status-indicator.error {
            background: #dc3545;
        }
        
        .test-result {
            margin-top: 12px;
            padding: 12px;
            background: #f8f9fa;
            border-radius: 6px;
            font-size: 14px;
        }
        
        .checklist {
            list-style: none;
            padding: 0;
        }
        
        .checklist li {
            margin: 12px 0;
            display: flex;
            align-items: center;
        }
        
        .checklist input[type="checkbox"] {
            margin-right: 12px;
            transform: scale(1.2);
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸ”§ åŠ¨æ€åŠŸèƒ½ä¿®å¤æµ‹è¯•</h1>
        <p>æµ‹è¯•å·¥ä½œåœˆé¡µé¢åŠ¨æ€ç‚¹å‡»å’Œä¸“å®¶é—®ç­”é¡µé¢åŠ è½½æ›´å¤šåŠŸèƒ½çš„ä¿®å¤æ•ˆæœ</p>
        
        <!-- å·¥ä½œåœˆåŠ¨æ€ç‚¹å‡»æµ‹è¯• -->
        <div class="test-section">
            <h3>1. å·¥ä½œåœˆåŠ¨æ€ç‚¹å‡»æµ‹è¯•</h3>
            <p>æµ‹è¯•ç‚¹å‡»åŠ¨æ€æ—¶ä¸å†æ˜¾ç¤º"æ‰“å¼€åŠ¨æ€è¯¦æƒ…"æç¤º</p>
            
            <div class="activity-demo" onclick="testActivityClick(this)">
                <div class="activity-header">
                    <img src="images/user1.png" alt="å¼ å·¥" class="activity-avatar">
                    <span class="user-name">å¼ å·¥</span>
                    <span class="activity-time">10åˆ†é’Ÿå‰</span>
                </div>
                <p class="activity-text">åˆ†äº«äº†ä¸€ä¸ª5Gä¸“ç½‘éƒ¨ç½²çš„æœ€ä½³å®è·µæ¡ˆä¾‹ï¼ŒåŒ…å«å®Œæ•´çš„ç½‘ç»œè§„åˆ’å’Œä¼˜åŒ–æ–¹æ¡ˆã€‚</p>
                <div class="activity-attachment" onclick="event.stopPropagation(); testAttachmentClick(this)">
                    <img src="images/doc-thumb.png" alt="æ–‡æ¡£">
                    <span>5Gä¸“ç½‘éƒ¨ç½²æœ€ä½³å®è·µ.pdf</span>
                </div>
            </div>
            
            <div class="activity-demo" onclick="testActivityClick(this)">
                <div class="activity-header">
                    <img src="images/user2.png" alt="æç»ç†" class="activity-avatar">
                    <span class="user-name">æç»ç†</span>
                    <span class="activity-time">1å°æ—¶å‰</span>
                </div>
                <p class="activity-text">åœ¨ç‰©è”ç½‘åº”ç”¨åœˆæå‡ºäº†å…³äºè¾¹ç¼˜è®¡ç®—å¹³å°é€‰å‹çš„é—®é¢˜ï¼Œå¸Œæœ›å„ä½ä¸“å®¶ç»™äºˆæŒ‡å¯¼ã€‚</p>
            </div>
            
            <div class="test-result">
                <span class="status-indicator success"></span>
                ç‚¹å‡»ä¸Šæ–¹åŠ¨æ€å¡ç‰‡åº”è¯¥ä¸ä¼šæ˜¾ç¤º"æ‰“å¼€åŠ¨æ€è¯¦æƒ…"æç¤ºï¼Œåªä¼šåœ¨æ§åˆ¶å°è®°å½•ç‚¹å‡»äº‹ä»¶
            </div>
        </div>
        
        <!-- ä¸“å®¶é—®ç­”é¡µé¢æµ‹è¯• -->
        <div class="test-section">
            <h3>2. ä¸“å®¶é—®ç­”é¡µé¢æµ‹è¯•</h3>
            <p>æµ‹è¯•ä¸“å®¶é—®ç­”é¡µé¢æ˜¯å¦å·²å»é™¤"åŠ è½½æ›´å¤šé—®é¢˜"æŒ‰é’®</p>
            
            <a href="qa-system.html" class="test-button" target="_blank">
                ğŸ”— æ‰“å¼€ä¸“å®¶é—®ç­”é¡µé¢
            </a>
            
            <div class="test-result">
                <span class="status-indicator warning"></span>
                åœ¨ä¸“å®¶é—®ç­”é¡µé¢ä¸­æ£€æŸ¥ï¼š
                <ul style="margin: 8px 0 0 20px;">
                    <li>é¡µé¢åº•éƒ¨ä¸åº”è¯¥æœ‰"åŠ è½½æ›´å¤šé—®é¢˜"æŒ‰é’®</li>
                    <li>æµ®åŠ¨æ“ä½œèœå•ä¸­ä¸åº”è¯¥æœ‰"åŠ è½½æ›´å¤šé—®é¢˜"é€‰é¡¹</li>
                    <li>æ»šåŠ¨åˆ°åº•éƒ¨æ—¶ä¸åº”è¯¥æ˜¾ç¤º"åŠ è½½å¤±è´¥ï¼Œè¯·é‡è¯•"æç¤º</li>
                </ul>
            </div>
        </div>
        
        <!-- å®é™…é¡µé¢æµ‹è¯• -->
        <div class="test-section">
            <h3>3. å®é™…é¡µé¢æµ‹è¯•</h3>
            <p>åœ¨å®é™…é¡µé¢ä¸­éªŒè¯ä¿®å¤æ•ˆæœ</p>
            
            <a href="work-circle.html" class="test-button" target="_blank">
                ğŸ”— æ‰“å¼€å·¥ä½œåœˆé¡µé¢
            </a>
            
            <div class="test-result">
                <span class="status-indicator warning"></span>
                åœ¨å·¥ä½œåœˆé¡µé¢çš„"æœ€æ–°åŠ¨æ€"éƒ¨åˆ†ï¼š
                <ul style="margin: 8px 0 0 20px;">
                    <li>ç‚¹å‡»åŠ¨æ€å¡ç‰‡ä¸åº”è¯¥æ˜¾ç¤º"æ‰“å¼€åŠ¨æ€è¯¦æƒ…"</li>
                    <li>ç‚¹å‡»é™„ä»¶åº”è¯¥æ­£å¸¸è·³è½¬åˆ°æ–‡æ¡£æŸ¥çœ‹å™¨</li>
                    <li>äººå‘˜è§’è‰²ä¿¡æ¯åº”è¯¥å·²è¢«ç§»é™¤</li>
                </ul>
            </div>
        </div>
        
        <!-- åŠŸèƒ½æ£€æŸ¥æ¸…å• -->
        <div class="test-section">
            <h3>4. åŠŸèƒ½æ£€æŸ¥æ¸…å•</h3>
            
            <ul class="checklist">
                <li>
                    <input type="checkbox" id="check1">
                    <label for="check1">å·¥ä½œåœˆé¡µé¢ç‚¹å‡»åŠ¨æ€ä¸æ˜¾ç¤º"æ‰“å¼€åŠ¨æ€è¯¦æƒ…"</label>
                </li>
                <li>
                    <input type="checkbox" id="check2">
                    <label for="check2">å·¥ä½œåœˆé¡µé¢æœ€æ–°åŠ¨æ€ä¸­å·²å»é™¤äººå‘˜è§’è‰²æ˜¾ç¤º</label>
                </li>
                <li>
                    <input type="checkbox" id="check3">
                    <label for="check3">ä¸“å®¶é—®ç­”é¡µé¢åº•éƒ¨æ²¡æœ‰"åŠ è½½æ›´å¤šé—®é¢˜"æŒ‰é’®</label>
                </li>
                <li>
                    <input type="checkbox" id="check4">
                    <label for="check4">ä¸“å®¶é—®ç­”é¡µé¢æµ®åŠ¨èœå•ä¸­æ²¡æœ‰"åŠ è½½æ›´å¤šé—®é¢˜"é€‰é¡¹</label>
                </li>
                <li>
                    <input type="checkbox" id="check5">
                    <label for="check5">ä¸“å®¶é—®ç­”é¡µé¢æ»šåŠ¨åŠ è½½æ—¶ä¸æ˜¾ç¤º"åŠ è½½å¤±è´¥ï¼Œè¯·é‡è¯•"</label>
                </li>
                <li>
                    <input type="checkbox" id="check6">
                    <label for="check6">é™„ä»¶ç‚¹å‡»åŠŸèƒ½æ­£å¸¸ï¼Œèƒ½è·³è½¬åˆ°æ–‡æ¡£æŸ¥çœ‹å™¨</label>
                </li>
                <li>
                    <input type="checkbox" id="check7">
                    <label for="check7">å…¶ä»–åŠŸèƒ½ï¼ˆç‚¹èµã€è¯„è®ºã€åˆ†äº«ç­‰ï¼‰æ­£å¸¸å·¥ä½œ</label>
                </li>
            </ul>
        </div>
        
        <!-- æµ‹è¯•æ—¥å¿— -->
        <div class="test-section">
            <h3>5. æµ‹è¯•æ—¥å¿—</h3>
            <div id="testLog" style="background: #f8f9fa; padding: 12px; border-radius: 6px; font-family: monospace; font-size: 12px; max-height: 200px; overflow-y: auto;">
                <div>æµ‹è¯•æ—¥å¿—å°†åœ¨è¿™é‡Œæ˜¾ç¤º...</div>
            </div>
            <button class="test-button" onclick="clearLog()" style="margin-top: 12px;">æ¸…ç©ºæ—¥å¿—</button>
        </div>
    </div>

    <script src="scripts/common.js"></script>
    <script>
        // æµ‹è¯•åŠ¨æ€ç‚¹å‡»åŠŸèƒ½
        function testActivityClick(element) {
            const userName = element.querySelector('.user-name').textContent;
            const time = element.querySelector('.activity-time').textContent;
            
            logTest(`ç‚¹å‡»åŠ¨æ€: ${userName} - ${time}`);
            
            // æ¨¡æ‹ŸåŸæ¥çš„openActivityDetailå‡½æ•°è¡Œä¸º
            console.log('åŠ¨æ€ç‚¹å‡»:', element);
            
            // éªŒè¯æ˜¯å¦æ˜¾ç¤ºäº†"æ‰“å¼€åŠ¨æ€è¯¦æƒ…"æç¤º
            setTimeout(() => {
                logTest('âœ… åŠ¨æ€ç‚¹å‡»æµ‹è¯•å®Œæˆï¼Œæœªæ˜¾ç¤º"æ‰“å¼€åŠ¨æ€è¯¦æƒ…"æç¤º');
            }, 100);
        }
        
        // æµ‹è¯•é™„ä»¶ç‚¹å‡»åŠŸèƒ½
        function testAttachmentClick(element) {
            const fileName = element.querySelector('span').textContent;
            logTest(`ç‚¹å‡»é™„ä»¶: ${fileName}`);
            
            if (typeof commonUtils !== 'undefined') {
                commonUtils.showToast('æ­£åœ¨æ‰“å¼€æ–‡æ¡£...', 'info');
                setTimeout(() => {
                    const url = `document-viewer.html?file=${encodeURIComponent(fileName)}`;
                    window.open(url, '_blank');
                    logTest('âœ… é™„ä»¶ç‚¹å‡»åŠŸèƒ½æ­£å¸¸ï¼Œå·²æ‰“å¼€æ–‡æ¡£æŸ¥çœ‹å™¨');
                }, 1000);
            } else {
                alert('æ­£åœ¨æ‰“å¼€æ–‡æ¡£: ' + fileName);
                const url = `document-viewer.html?file=${encodeURIComponent(fileName)}`;
                window.open(url, '_blank');
                logTest('âœ… é™„ä»¶ç‚¹å‡»åŠŸèƒ½æ­£å¸¸ï¼ˆé™çº§æ¨¡å¼ï¼‰');
            }
        }
        
        // è®°å½•æµ‹è¯•æ—¥å¿—
        function logTest(message) {
            const logContainer = document.getElementById('testLog');
            const timestamp = new Date().toLocaleTimeString();
            const logEntry = document.createElement('div');
            logEntry.textContent = `[${timestamp}] ${message}`;
            logContainer.appendChild(logEntry);
            logContainer.scrollTop = logContainer.scrollHeight;
            console.log(`[æµ‹è¯•] ${message}`);
        }
        
        // æ¸…ç©ºæ—¥å¿—
        function clearLog() {
            const logContainer = document.getElementById('testLog');
            logContainer.innerHTML = '<div>æµ‹è¯•æ—¥å¿—å·²æ¸…ç©º...</div>';
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            logTest('ğŸ§ª åŠ¨æ€åŠŸèƒ½ä¿®å¤æµ‹è¯•é¡µé¢å·²åŠ è½½');
            logTest('ğŸ“‹ å‡†å¤‡æµ‹è¯•ä»¥ä¸‹åŠŸèƒ½ï¼š');
            logTest('  1. å·¥ä½œåœˆåŠ¨æ€ç‚¹å‡»ä¸æ˜¾ç¤ºè¯¦æƒ…æç¤º');
            logTest('  2. ä¸“å®¶é—®ç­”é¡µé¢å»é™¤åŠ è½½æ›´å¤šæŒ‰é’®');
            logTest('  3. æ»šåŠ¨åŠ è½½æ—¶ä¸æ˜¾ç¤ºå¤±è´¥æç¤º');
            
            // æ£€æŸ¥å¿…è¦çš„å‡½æ•°æ˜¯å¦å­˜åœ¨
            if (typeof commonUtils !== 'undefined') {
                logTest('âœ… commonUtils å·¥å…·åº“å·²åŠ è½½');
            } else {
                logTest('âš ï¸ commonUtils å·¥å…·åº“æœªåŠ è½½ï¼Œå°†ä½¿ç”¨é™çº§æ¨¡å¼');
            }
        });
    </script>
</body>
</html>

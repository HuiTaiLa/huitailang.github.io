<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åˆ›å»ºå·¥ä½œåœˆåŠŸèƒ½æµ‹è¯•</title>
    <link rel="stylesheet" href="styles/common.css">
    <link rel="stylesheet" href="styles/work-circle.css">
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #f5f6fa;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        .test-container {
            max-width: 800px;
            margin: 20px auto;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .test-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            text-align: center;
        }
        
        .test-content {
            padding: 20px;
        }
        
        .test-section {
            margin-bottom: 24px;
            padding: 16px;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            background: #f8f9fa;
        }
        
        .test-section h4 {
            margin: 0 0 12px 0;
            color: #333;
            font-size: 14px;
            font-weight: 600;
        }
        
        .demo-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 16px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 12px 0;
        }
        
        .demo-header h1 {
            font-size: 18px;
            font-weight: 500;
            margin: 0;
            flex: 1;
            text-align: center;
        }
        
        .demo-back-btn,
        .demo-add-btn {
            width: 40px;
            height: 40px;
            border: none;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
            color: white;
            font-size: 20px;
        }
        
        .demo-add-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }
        
        .test-btn {
            width: 100%;
            padding: 12px;
            margin: 8px 0;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .test-btn.primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .test-btn.secondary {
            background: #28a745;
            color: white;
        }
        
        .test-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .status-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .status-indicator.success {
            background: #28a745;
        }
        
        .test-result {
            margin: 8px 0;
            padding: 8px;
            border-radius: 4px;
            font-size: 13px;
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .function-demo {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin: 12px 0;
        }
        
        .function-demo-item {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 16px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .function-demo-item:hover {
            border-color: #667eea;
            transform: translateY(-1px);
        }
        
        .function-demo-icon {
            font-size: 24px;
            margin-bottom: 8px;
        }
        
        .function-demo-text {
            font-size: 14px;
            font-weight: 500;
            color: #333;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="test-header">
            <h2>â• åˆ›å»ºå·¥ä½œåœˆåŠŸèƒ½æµ‹è¯•</h2>
            <p>æµ‹è¯•åŒºåŸŸå·¥ä½œåœˆé¡µé¢å³ä¸Šè§’åŠ å·æŒ‰é’®çš„åŠŸèƒ½</p>
        </div>
        
        <div class="test-content">
            <!-- å¤´éƒ¨æŒ‰é’®æµ‹è¯• -->
            <div class="test-section">
                <h4>1. å¤´éƒ¨åŠ å·æŒ‰é’®æµ‹è¯•</h4>
                <p>æ¨¡æ‹Ÿå·¥ä½œåœˆé¡µé¢å¤´éƒ¨ï¼Œç‚¹å‡»åŠ å·æŒ‰é’®æµ‹è¯•åŠŸèƒ½ï¼š</p>
                
                <div class="demo-header">
                    <button class="demo-back-btn">â€¹</button>
                    <h1>åŒºåŸŸå·¥ä½œåœˆ</h1>
                    <button class="demo-add-btn" onclick="showCreateCircle()">+</button>
                </div>
                
                <div class="test-result">
                    <span class="status-indicator success"></span>
                    ç‚¹å‡»åŠ å·æŒ‰é’®å°†æ˜¾ç¤ºåˆ›å»ºé€‰é¡¹èœå•
                </div>
            </div>
            
            <!-- åˆ›å»ºé€‰é¡¹æµ‹è¯• -->
            <div class="test-section">
                <h4>2. åˆ›å»ºé€‰é¡¹åŠŸèƒ½æµ‹è¯•</h4>
                <p>æµ‹è¯•ä¸åŒçš„åˆ›å»ºé€‰é¡¹ï¼š</p>
                
                <div class="function-demo">
                    <div class="function-demo-item" onclick="showCreateForm('circle')">
                        <div class="function-demo-icon">ğŸ¢</div>
                        <div class="function-demo-text">åˆ›å»ºå·¥ä½œåœˆ</div>
                    </div>
                    <div class="function-demo-item" onclick="showCreateForm('project')">
                        <div class="function-demo-icon">ğŸ“‹</div>
                        <div class="function-demo-text">åˆ›å»ºé¡¹ç›®</div>
                    </div>
                    <div class="function-demo-item" onclick="showCreateForm('activity')">
                        <div class="function-demo-icon">ğŸ¯</div>
                        <div class="function-demo-text">å‘å¸ƒæ´»åŠ¨</div>
                    </div>
                    <div class="function-demo-item" onclick="showCreateForm('announcement')">
                        <div class="function-demo-icon">ğŸ“¢</div>
                        <div class="function-demo-text">å‘å¸ƒå…¬å‘Š</div>
                    </div>
                </div>
                
                <div class="test-result">
                    <span class="status-indicator success"></span>
                    ç‚¹å‡»ä»»æ„é€‰é¡¹å°†æ˜¾ç¤ºå¯¹åº”çš„åˆ›å»ºè¡¨å•
                </div>
            </div>
            
            <!-- è¡¨å•åŠŸèƒ½æµ‹è¯• -->
            <div class="test-section">
                <h4>3. è¡¨å•åŠŸèƒ½æµ‹è¯•</h4>
                <button class="test-btn primary" onclick="testAllForms()">
                    ğŸ§ª æµ‹è¯•æ‰€æœ‰è¡¨å•
                </button>
                <button class="test-btn primary" onclick="testFormValidation()">
                    âœ… æµ‹è¯•è¡¨å•éªŒè¯
                </button>
                <button class="test-btn primary" onclick="testFormSubmission()">
                    ğŸ“¤ æµ‹è¯•è¡¨å•æäº¤
                </button>
                
                <div class="test-result">
                    <span class="status-indicator success"></span>
                    <strong>è¡¨å•åŠŸèƒ½ï¼š</strong>è¾“å…¥éªŒè¯ã€æ•°æ®æäº¤ã€æˆåŠŸåé¦ˆ
                </div>
                <div class="test-result">
                    <span class="status-indicator success"></span>
                    <strong>è¡¨å•ç±»å‹ï¼š</strong>å·¥ä½œåœˆã€é¡¹ç›®ã€æ´»åŠ¨ã€å…¬å‘Šå››ç§ç±»å‹
                </div>
                <div class="test-result">
                    <span class="status-indicator success"></span>
                    <strong>äº¤äº’ä½“éªŒï¼š</strong>æ¨¡æ€æ¡†åŠ¨ç”»ã€æŒ‰é’®åé¦ˆã€Toastæç¤º
                </div>
            </div>
            
            <!-- åŠŸèƒ½ç‰¹æ€§æµ‹è¯• -->
            <div class="test-section">
                <h4>4. åŠŸèƒ½ç‰¹æ€§éªŒè¯</h4>
                <div class="test-result">
                    <span class="status-indicator success"></span>
                    <strong>æ¨¡æ€æ¡†æ˜¾ç¤ºï¼š</strong>æ·¡å…¥åŠ¨ç”»ã€èƒŒæ™¯é®ç½©ã€å±…ä¸­æ˜¾ç¤º
                </div>
                <div class="test-result">
                    <span class="status-indicator success"></span>
                    <strong>é€‰é¡¹èœå•ï¼š</strong>å›¾æ ‡å±•ç¤ºã€æè¿°æ–‡å­—ã€æ‚¬åœæ•ˆæœ
                </div>
                <div class="test-result">
                    <span class="status-indicator success"></span>
                    <strong>è¡¨å•è®¾è®¡ï¼š</strong>å­—æ®µéªŒè¯ã€ä¸‹æ‹‰é€‰æ‹©ã€å•é€‰å¤šé€‰
                </div>
                <div class="test-result">
                    <span class="status-indicator success"></span>
                    <strong>å“åº”å¼é€‚é…ï¼š</strong>ç§»åŠ¨ç«¯å‹å¥½ã€è§¦æ‘¸ä¼˜åŒ–
                </div>
                <div class="test-result">
                    <span class="status-indicator success"></span>
                    <strong>ç”¨æˆ·åé¦ˆï¼š</strong>åŠ è½½çŠ¶æ€ã€æˆåŠŸæç¤ºã€é”™è¯¯å¤„ç†
                </div>
            </div>
            
            <div class="test-actions" style="margin-top: 20px; text-align: center;">
                <button class="test-btn secondary" onclick="window.open('work-circle.html', '_blank')">
                    ğŸ“± æ‰“å¼€å·¥ä½œåœˆé¡µé¢
                </button>
                <button class="test-btn primary" onclick="showCreateCircle()">
                    â• ç›´æ¥æµ‹è¯•åˆ›å»ºåŠŸèƒ½
                </button>
            </div>
        </div>
    </div>

    <script src="scripts/common.js"></script>
    <script src="scripts/work-circle.js"></script>
    <script>
        function testAllForms() {
            const formTypes = ['circle', 'project', 'activity', 'announcement'];
            let currentIndex = 0;
            
            function showNextForm() {
                if (currentIndex < formTypes.length) {
                    const formType = formTypes[currentIndex];
                    console.log(`æµ‹è¯•è¡¨å•ç±»å‹: ${formType}`);
                    
                    showCreateForm(formType);
                    
                    // 2ç§’åå…³é—­å¹¶æ˜¾ç¤ºä¸‹ä¸€ä¸ª
                    setTimeout(() => {
                        const modal = document.querySelector('.create-form-modal');
                        if (modal) {
                            modal.remove();
                        }
                        
                        currentIndex++;
                        if (currentIndex < formTypes.length) {
                            setTimeout(showNextForm, 500);
                        } else {
                            setTimeout(() => {
                                alert('ğŸ‰ æ‰€æœ‰è¡¨å•æµ‹è¯•å®Œæˆï¼\n\næµ‹è¯•ç»“æœï¼š\nâœ… 4ç§è¡¨å•ç±»å‹\nâœ… è¡¨å•å­—æ®µå®Œæ•´\nâœ… æ ·å¼æ˜¾ç¤ºæ­£å¸¸\nâœ… äº¤äº’åŠŸèƒ½æ­£å¸¸');
                            }, 500);
                        }
                    }, 2000);
                }
            }
            
            showNextForm();
        }
        
        function testFormValidation() {
            // æ˜¾ç¤ºå·¥ä½œåœˆåˆ›å»ºè¡¨å•è¿›è¡ŒéªŒè¯æµ‹è¯•
            showCreateForm('circle');
            
            setTimeout(() => {
                alert('ğŸ“ è¡¨å•éªŒè¯æµ‹è¯•è¯´æ˜ï¼š\n\n1. å°è¯•ä¸å¡«å†™å¿…å¡«å­—æ®µæäº¤\n2. è§‚å¯Ÿé”™è¯¯æç¤ºä¿¡æ¯\n3. å¡«å†™å®Œæ•´ä¿¡æ¯åæäº¤\n4. æŸ¥çœ‹æˆåŠŸåé¦ˆ\n\nè¯·åœ¨æ‰“å¼€çš„è¡¨å•ä¸­è¿›è¡Œæµ‹è¯•ï¼');
            }, 500);
        }
        
        function testFormSubmission() {
            // æ˜¾ç¤ºé¡¹ç›®åˆ›å»ºè¡¨å•è¿›è¡Œæäº¤æµ‹è¯•
            showCreateForm('project');
            
            setTimeout(() => {
                // è‡ªåŠ¨å¡«å†™è¡¨å•æ•°æ®
                const nameInput = document.querySelector('.create-project-form input[type="text"]');
                const descTextarea = document.querySelector('.create-project-form textarea');
                
                if (nameInput && descTextarea) {
                    nameInput.value = 'æµ‹è¯•é¡¹ç›®';
                    descTextarea.value = 'è¿™æ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–æµ‹è¯•é¡¹ç›®ï¼Œç”¨äºéªŒè¯è¡¨å•æäº¤åŠŸèƒ½ã€‚';
                    
                    setTimeout(() => {
                        alert('ğŸ“¤ è¡¨å•å·²è‡ªåŠ¨å¡«å†™æµ‹è¯•æ•°æ®\n\nç‚¹å‡»"åˆ›å»ºé¡¹ç›®"æŒ‰é’®æµ‹è¯•æäº¤åŠŸèƒ½ï¼');
                    }, 500);
                }
            }, 1000);
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            console.log('â• åˆ›å»ºå·¥ä½œåœˆåŠŸèƒ½æµ‹è¯•é¡µé¢å·²åŠ è½½');
            
            // æ£€æŸ¥å¿…è¦çš„å‡½æ•°æ˜¯å¦å­˜åœ¨
            const hasShowCreateCircle = typeof showCreateCircle === 'function';
            const hasShowCreateForm = typeof showCreateForm === 'function';
            const hasSubmitFunctions = typeof submitCreateCircle === 'function';
            
            console.log(`showCreateCircleå‡½æ•°: ${hasShowCreateCircle ? 'âœ… å­˜åœ¨' : 'âŒ ç¼ºå¤±'}`);
            console.log(`showCreateFormå‡½æ•°: ${hasShowCreateForm ? 'âœ… å­˜åœ¨' : 'âŒ ç¼ºå¤±'}`);
            console.log(`æäº¤å‡½æ•°: ${hasSubmitFunctions ? 'âœ… å­˜åœ¨' : 'âŒ ç¼ºå¤±'}`);
            
            if (!hasShowCreateCircle || !hasShowCreateForm || !hasSubmitFunctions) {
                console.warn('âš ï¸ éƒ¨åˆ†å¿…è¦å‡½æ•°ç¼ºå¤±ï¼Œå¯èƒ½å½±å“æµ‹è¯•ç»“æœ');
            } else {
                console.log('âœ… æ‰€æœ‰åŠŸèƒ½å‡½æ•°å·²å°±ç»ªï¼Œå¯ä»¥å¼€å§‹æµ‹è¯•');
            }
        });
    </script>
</body>
</html>

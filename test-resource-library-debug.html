<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è°ƒè¯•ç§»åŠ¨äº‘èµ„æºåº“</title>
    <link rel="stylesheet" href="styles/common.css">
    <link rel="stylesheet" href="styles/resource-library.css">
    <style>
        .debug-panel {
            position: fixed;
            top: 10px;
            right: 10px;
            width: 300px;
            background: white;
            border: 2px solid #007bff;
            border-radius: 8px;
            padding: 15px;
            font-size: 12px;
            z-index: 10000;
            max-height: 400px;
            overflow-y: auto;
        }
        .debug-panel h4 {
            margin: 0 0 10px 0;
            color: #007bff;
        }
        .debug-log {
            background: #f8f9fa;
            padding: 5px;
            margin: 5px 0;
            border-radius: 4px;
            font-family: monospace;
        }
        .error { background: #f8d7da; color: #721c24; }
        .success { background: #d4edda; color: #155724; }
        .warning { background: #fff3cd; color: #856404; }
    </style>
</head>
<body>
    <!-- è°ƒè¯•é¢æ¿ -->
    <div class="debug-panel">
        <h4>ğŸ”§ è°ƒè¯•ä¿¡æ¯</h4>
        <div id="debugLogs"></div>
        <button onclick="clearLogs()" style="margin-top: 10px;">æ¸…é™¤æ—¥å¿—</button>
    </div>

    <div class="container">
        <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
        <header class="header">
            <div class="header-content">
                <button class="back-btn" onclick="history.back()">
                    <span class="back-arrow">â€¹</span>
                </button>
                <h1>ç§»åŠ¨äº‘èµ„æºåº“ (è°ƒè¯•ç‰ˆ)</h1>
                <button class="search-btn">
                    <span class="search-symbol">ğŸ”</span>
                </button>
            </div>
        </header>

        <!-- æœç´¢æ  -->
        <div class="search-section" id="searchSection">
            <div class="search-box">
                <input type="text" placeholder="è¾“å…¥å…³é”®è¯è¿›è¡Œè¯­ä¹‰æœç´¢..." class="search-input" id="searchInput">
                <button class="search-submit-btn" onclick="performSearch()">æœç´¢</button>
            </div>
        </div>

        <!-- åˆ†ç±»å¯¼èˆª -->
        <div class="category-nav">
            <div class="tab-scroll">
                <div class="tab-item active" data-category="all">å…¨éƒ¨</div>
                <div class="tab-item" data-category="manual">äº§å“æ‰‹å†Œ</div>
                <div class="tab-item" data-category="solution">è§£å†³æ–¹æ¡ˆ</div>
                <div class="tab-item" data-category="training">åŸ¹è®­èµ„æ–™</div>
                <div class="tab-item" data-category="case">å®¢æˆ·æ¡ˆä¾‹</div>
            </div>
        </div>

        <!-- çƒ­é—¨æ¨è -->
        <div class="hot-section">
            <h3>ğŸ”¥ çƒ­é—¨æ¨è</h3>
            <div class="hot-list">
                <!-- çƒ­é—¨æ¨èå†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
            </div>
        </div>

        <!-- æ–‡æ¡£åˆ—è¡¨ -->
        <div class="document-list">
            <div class="list-header">
                <h3>æ–‡æ¡£èµ„æº</h3>
            </div>
            <div class="document-items">
                <!-- æ–‡æ¡£åˆ—è¡¨å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
            </div>
        </div>
    </div>

    <script src="scripts/common.js"></script>
    <script>
        // è°ƒè¯•æ—¥å¿—å‡½æ•°
        function debugLog(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            const logDiv = document.createElement('div');
            logDiv.className = `debug-log ${type}`;
            logDiv.innerHTML = `[${timestamp}] ${message}`;
            
            const logsContainer = document.getElementById('debugLogs');
            logsContainer.appendChild(logDiv);
            logsContainer.scrollTop = logsContainer.scrollHeight;
            
            console.log(`[${type.toUpperCase()}] ${message}`);
        }

        function clearLogs() {
            document.getElementById('debugLogs').innerHTML = '';
        }

        // æ£€æŸ¥ä¾èµ–
        debugLog('å¼€å§‹æ£€æŸ¥ä¾èµ–...');
        
        if (typeof window.commonUtils !== 'undefined') {
            debugLog('âœ… commonUtils å·²åŠ è½½', 'success');
        } else {
            debugLog('âŒ commonUtils æœªåŠ è½½', 'error');
        }

        // é¡µé¢åŠ è½½å®Œæˆåçš„æ£€æŸ¥
        document.addEventListener('DOMContentLoaded', function() {
            debugLog('DOM åŠ è½½å®Œæˆ');
            
            // æ£€æŸ¥å…³é”®å…ƒç´ 
            const hotList = document.querySelector('.hot-list');
            const documentItems = document.querySelector('.document-items');
            
            if (hotList) {
                debugLog('âœ… çƒ­é—¨æ¨èå®¹å™¨æ‰¾åˆ°', 'success');
            } else {
                debugLog('âŒ çƒ­é—¨æ¨èå®¹å™¨æœªæ‰¾åˆ°', 'error');
            }
            
            if (documentItems) {
                debugLog('âœ… æ–‡æ¡£åˆ—è¡¨å®¹å™¨æ‰¾åˆ°', 'success');
            } else {
                debugLog('âŒ æ–‡æ¡£åˆ—è¡¨å®¹å™¨æœªæ‰¾åˆ°', 'error');
            }
            
            // å»¶è¿Ÿæ£€æŸ¥å†…å®¹æ˜¯å¦åŠ è½½
            setTimeout(() => {
                const hotItems = document.querySelectorAll('.hot-item');
                const docItems = document.querySelectorAll('.doc-item');
                
                debugLog(`çƒ­é—¨æ¨èé¡¹ç›®æ•°é‡: ${hotItems.length}`);
                debugLog(`æ–‡æ¡£åˆ—è¡¨é¡¹ç›®æ•°é‡: ${docItems.length}`);
                
                if (hotItems.length === 0 && docItems.length === 0) {
                    debugLog('âš ï¸ æ²¡æœ‰å†…å®¹è¢«åŠ è½½ï¼Œå¯èƒ½å­˜åœ¨JavaScripté”™è¯¯', 'warning');
                }
            }, 3000);
        });
    </script>
    <script src="scripts/resource-library.js"></script>
    <script>
        // åœ¨resource-library.jsåŠ è½½åè¿›è¡Œæ£€æŸ¥
        setTimeout(() => {
            debugLog('æ£€æŸ¥resource-library.jsä¸­çš„å‡½æ•°...');
            
            if (typeof loadResourceData === 'function') {
                debugLog('âœ… loadResourceData å‡½æ•°å­˜åœ¨', 'success');
            } else {
                debugLog('âŒ loadResourceData å‡½æ•°ä¸å­˜åœ¨', 'error');
            }
            
            if (typeof REAL_FILES_DATA !== 'undefined') {
                debugLog(`âœ… REAL_FILES_DATA å­˜åœ¨ï¼ŒåŒ…å« ${REAL_FILES_DATA.length} ä¸ªæ–‡ä»¶`, 'success');
            } else {
                debugLog('âŒ REAL_FILES_DATA ä¸å­˜åœ¨', 'error');
            }
            
            if (typeof updateHotRecommendations === 'function') {
                debugLog('âœ… updateHotRecommendations å‡½æ•°å­˜åœ¨', 'success');
            } else {
                debugLog('âŒ updateHotRecommendations å‡½æ•°ä¸å­˜åœ¨', 'error');
            }
        }, 1000);
    </script>
</body>
</html>
